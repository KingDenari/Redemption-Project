<!DOCTYPE html>
<html>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Premium Plans</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    function openModal(plan, price) {
      document.getElementById("selectedPlan").innerText = `${plan} (${price} KES)`;
      document.getElementById("confirmBtn").setAttribute("data-plan", plan);
      document.getElementById("confirmBtn").setAttribute("data-price", price);
      document.getElementById("modal").classList.remove("hidden");
    }

    function chooseOption(method) {
      const btn = document.getElementById("confirmBtn");
      const plan = btn.getAttribute("data-plan");
      const price = btn.getAttribute("data-price");
      const message = `Hello, I would like to subscribe to the ${plan} plan ${price} KES from myredemption.onrender.com/plan to access: \n• Revision Materials \n• Lessons \n• Grade 9 KJSEA Materials \n• Exam papers \n• Goal Tracker \n\nThankyou!`;

      if (method === 'whatsapp') {
        const phone = '0743782259'; // replace with your WhatsApp number
        const encoded = encodeURIComponent(message);
        window.location.href = `https://wa.me/${phone}?text=${encoded}`;
      } else if (method === 'email') {
        const email = 'redemptioncustomercare1@gmail.com'; // replace with your email
        const subject = encodeURIComponent("Payment Request: " + plan + " Plan");
        const body = encodeURIComponent(message);
        window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
      }

      document.getElementById("modal").classList.add("hidden");
    }

    function closeModal() {
      document.getElementById("modal").classList.add("hidden");
    }
  </script>
</head>
<body class="bg-gradient-to-br from-gray-900 to-gray-800 text-white min-h-screen">
  <header class="text-center py-10">
    <h1 class="text-4xl font-bold">Premium Plans</h1>
    <p class="mt-2 text-gray-300">Subscribe/Renew to gain access to premium</p>
  </header>

  <main class="max-w-6xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 pb-16">
    <!-- Plan Card Template -->
    <div onclick="openModal('1 Week Access', 150)" class="bg-gray-800 cursor-pointer rounded-2xl shadow-xl p-6 border border-yellow-400 hover:scale-105 transition">
      <h2 class="text-xl font-semibold mb-2">1 Week Access</h2>
      <p class="text-yellow-400 text-3xl font-bold mb-4">150 KES</p>
      <ul class="space-y-2 text-sm text-gray-300">
        <li>✅ Access to limited notes and exams</li>
        <li>✅ Downloadable exams and notes</li>
        <li>✅ Occasional exclusive content</li>

        <li>❌ Printable exams and notes</li>
        <li>❌ No early access to new updates.</li>


      </ul>
      <div class="mt-6 w-full bg-yellow-400 text-center text-gray-900 font-semibold py-2 rounded-lg">
        Choose Plan
      </div>
    </div>

    <div onclick="openModal('2 Weeks Access', 200)" class="bg-gray-800 cursor-pointer rounded-2xl shadow-xl p-6 border border-green-400 hover:scale-105 transition">
      <h2 class="text-xl font-semibold mb-2">2 Weeks Access</h2>
      <p class="text-green-400 text-3xl font-bold mb-4">200 KES</p>
      <ul class="space-y-2 text-sm text-gray-300">
        <li>✅ Extended Access</li>
        <li>✅ Practice Exams</li>
        <li>✅ Discounted rate for extending to a longer plan before expiry</li>

        <li>❌ No early access to new updates.</li>
      </ul>
      <div class="mt-6 w-full bg-green-400 text-center text-gray-900 font-semibold py-2 rounded-lg">
        Choose Plan
      </div>
    </div>

    <div onclick="openModal('Monthly Access', 350)" class="bg-gray-800 cursor-pointer rounded-2xl shadow-xl p-6 border border-blue-400 hover:scale-105 transition">
      <h2 class="text-xl font-semibold mb-2">Monthly Access</h2>
      <p class="text-blue-400 text-3xl font-bold mb-4">350 KES</p>
      <ul class="space-y-2 text-sm text-gray-300">
        <li>✅ Goal Tracker</li>
        <li>✅ Daily Summary Emails</li>
        <Li>✅ Motivational Emails</Li>
        <li>✅ Discount of 50 KES</li>
        <li>✅ Downloadable exams and notes</li>
        <li>✅ Exclusive KJSEA revision materials</li>
      </ul>
      <div class="mt-6 w-full bg-blue-400 text-center text-gray-900 font-semibold py-2 rounded-lg">
        Choose Plan
      </div>
    </div>

    <div onclick="openModal('Yearly Access', 1000)" class="bg-gray-800 cursor-pointer rounded-2xl shadow-xl p-6 border border-purple-500 hover:scale-105 transition">
      <h2 class="text-xl font-semibold mb-2">Yearly Access</h2>
      <p class="text-purple-400 text-3xl font-bold mb-4">1000 KES</p>
      <ul class="space-y-2 text-sm text-gray-300">
        <li>✅ Full, unrestricted access to all resources, including any premium features</li>
        <li>✅ Discount of 3200 KES</li>
        <li>✅ Access to G9 Blueprints</li>
        <li>✅ Access to G9 Blueprints</li>
        <li>✅ Access to Booklets with 100+ Pages</li>
        <li>✅ Downloadable & Printable Notes</li>
        <Li>✅ Motivational Emails</Li>
      </ul>
      <div class="mt-6 w-full bg-purple-500 text-center text-white font-semibold py-2 rounded-lg">
        Choose Plan
      </div>
    </div>
  </main>
      





  <!-- Modal -->
  <div id="modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
    <div class="bg-gray-800 rounded-xl p-6 w-11/12 max-w-md text-center shadow-lg">
      <h2 class="text-xl font-semibold mb-2">Confirm Payment</h2>
      <p class="mb-4 text-gray-300">You chose: <span id="selectedPlan" class="text-white font-bold"></span></p>
      <p class="mb-4 text-gray-400">How would you like to proceed?</p>
      <div class="flex justify-center gap-4 mb-6">
        <button onclick="chooseOption('whatsapp')" class="bg-green-500 hover:bg-green-400 text-white px-4 py-2 rounded-lg">WhatsApp</button>
        <button onclick="chooseOption('email')" class="bg-blue-500 hover:bg-blue-400 text-white px-4 py-2 rounded-lg">Email</button>
      </div>
      <button onclick="closeModal()" class="text-gray-400 hover:text-white text-sm">Cancel</button>
      <div id="confirmBtn" class="hidden" data-plan="" data-price=""></div>
    </div>
  </div>
</head>


{% if request.endpoint not in ['auth.login', 'auth.sign_up'] %}
<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();

(function () {
  var s1 = document.createElement("script"),
      s0 = document.getElementsByTagName("script")[0];
  s1.async = true;
  s1.src = 'https://embed.tawk.to/683ca704994ebc190f53579c/1ismeoqqk';
  s1.charset = 'UTF-8';
  s1.setAttribute('crossorigin', '*');
  s0.parentNode.insertBefore(s1, s0);
})();

// Move widget to bottom left once it loads
Tawk_API = Tawk_API || {};
Tawk_API.onLoad = function () {
  Tawk_API.setAttributes({ position: 'left' }, function (error) {
    if (error) {
      console.error("Tawk.to position change failed:", error);
    }
  });
};
</script>
<!--End of Tawk.to Script-->
{% endif %}
</body>


